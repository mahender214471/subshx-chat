"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[435],{5961:function(e,a,s){s.d(a,{K:function(){return c}});var t=s(7437),l=s(2265),r=s(4458),n=s(7700);let d=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.fC,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...l})});d.displayName=r.fC.displayName;let o=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.Ee,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",s),...l})});o.displayName=r.Ee.displayName;let i=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.NY,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...l})});function c(e){let{src:a,alt:s,name:l}=e;return(0,t.jsxs)(d,{className:"w-12 h-12 text-black",children:[(0,t.jsx)(o,{src:a,alt:s||"Avtar"}),(0,t.jsx)(i,{children:l||"U"})]})}i.displayName=r.NY.displayName},5435:function(e,a,s){s.d(a,{default:function(){return L}});var t=s(7437),l=s(2265),r=s(5961),n=s(1031),d=s(7904),o=s(3509),i=s(3520),c=s(9789),u=s(7592),f=s(2468),m=s(8165),p=s(7700);let x=c.fC,h=c.xz,v=c.ZA;c.Uv,c.Tr,c.Ee,l.forwardRef((e,a)=>{let{className:s,inset:l,children:r,...n}=e;return(0,t.jsxs)(c.fF,{ref:a,className:(0,p.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",l&&"pl-8",s),...n,children:[r,(0,t.jsx)(u.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=c.fF.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(c.tu,{ref:a,className:(0,p.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})}).displayName=c.tu.displayName;let g=l.forwardRef((e,a)=>{let{className:s,sideOffset:l=4,...r}=e;return(0,t.jsx)(c.Uv,{children:(0,t.jsx)(c.VY,{ref:a,sideOffset:l,className:(0,p.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})})});g.displayName=c.VY.displayName;let j=l.forwardRef((e,a)=>{let{className:s,inset:l,...r}=e;return(0,t.jsx)(c.ck,{ref:a,className:(0,p.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",s),...r})});j.displayName=c.ck.displayName,l.forwardRef((e,a)=>{let{className:s,children:l,checked:r,...n}=e;return(0,t.jsxs)(c.oC,{ref:a,className:(0,p.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(c.wU,{children:(0,t.jsx)(f.Z,{className:"h-4 w-4"})})}),l]})}).displayName=c.oC.displayName,l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(c.Rk,{ref:a,className:(0,p.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(c.wU,{children:(0,t.jsx)(m.Z,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=c.Rk.displayName;let N=l.forwardRef((e,a)=>{let{className:s,inset:l,...r}=e;return(0,t.jsx)(c.__,{ref:a,className:(0,p.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",s),...r})});N.displayName=c.__.displayName;let y=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(c.Z0,{ref:a,className:(0,p.cn)("-mx-1 my-1 h-px bg-muted",s),...l})});y.displayName=c.Z0.displayName;let b=e=>{let{className:a,...s}=e;return(0,t.jsx)("span",{className:(0,p.cn)("ml-auto text-xs tracking-widest opacity-60",a),...s})};b.displayName="DropdownMenuShortcut";var w=s(7138);function k(){return(0,t.jsxs)("div",{className:"p-4 border-b border-gray-300 flex justify-between items-center  text-white bg-gradient-to-r from-fuchsia-500 to-pink-500",children:[(0,t.jsx)(r.K,{name:"mk"}),(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Subbx Infotech"}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)(x,{children:[(0,t.jsx)(h,{asChild:!0,children:(0,t.jsx)("button",{children:(0,t.jsx)(n.Z,{className:"w-6 h-6"})})}),(0,t.jsxs)(g,{className:"w-56",children:[(0,t.jsx)(N,{children:"My Account"}),(0,t.jsx)(y,{}),(0,t.jsxs)(v,{children:[(0,t.jsx)(w.default,{href:"/profile",children:(0,t.jsx)(j,{children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4"}),(0,t.jsx)("p",{className:"pl-4",children:"Profile"})]})})}),(0,t.jsx)(w.default,{href:"/group",children:(0,t.jsx)(j,{children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4"}),(0,t.jsx)("p",{className:"pl-4",children:"Add new group"})]})})})]}),(0,t.jsx)(y,{}),(0,t.jsxs)(j,{children:["Log out",(0,t.jsx)(b,{children:(0,t.jsx)(i.Z,{className:"w-4 h-4"})})]})]})]})})]})}let S=l.forwardRef((e,a)=>{let{className:s,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:(0,p.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...r})});S.displayName="Input";var R=s(9212),C=s.n(R),A=s(1444),Z=s(1777);let M=e=>{let{data:a}=e,s=(0,A.I0)(),{recever:l}=a;return(0,t.jsxs)("div",{onClick:()=>{s((0,Z.r0)(a))},className:"flex  justify-between mb-4 cursor-pointer hover:bg-gradient-to-r from-fuchsia-500 to-pink-500 p-2 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-300 rounded-full mr-3",children:(0,t.jsx)("img",{src:(null==l?void 0:l.image)!==""?null==l?void 0:l.image:"/images/placeholder.jpg",alt:"User Avatar",className:"w-12 h-12 rounded-full"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:null==l?void 0:l.name}),(0,t.jsx)("p",{className:"text-gray-600",children:null==a?void 0:a.lastMessage})]})]}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)("p",{className:"text-gray-400 text-[14px]",children:C()(null==a?void 0:a.date).from()})})]})};function U(e){let{chatData:a}=e;return(0,t.jsxs)("div",{className:"h-screen",children:[(0,t.jsx)("div",{className:"px-4 py-6",children:(0,t.jsx)(S,{placeholder:"Search",className:"w-full h-12 rounded-xl"})}),(0,t.jsx)("div",{className:"overflow-y-auto h-full px-4 py-4",children:null==a?void 0:a.map((e,a)=>(0,t.jsx)(M,{data:e},a))})]})}function L(e){let{children:a}=e;(0,A.I0)();let s=(0,A.v9)(e=>null==e?void 0:e.AppState);return console.log("app state =============>",s),(0,t.jsxs)("section",{className:"flex h-screen overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-1/4 bg-white border-r border-gray-300",children:[(0,t.jsx)(k,{}),(0,t.jsx)(U,{chatData:null==s?void 0:s.chatList})]}),a]})}},1777:function(e,a,s){s.d(a,{ZP:function(){return g},UO:function(){return u},r0:function(){return h},gt:function(){return c},P6:function(){return x},zf:function(){return v}});var t,l=s(9753),r=s(8472),n=s(357);let d=(null==n?void 0:null===(t=n.env)||void 0===t?void 0:"http://localhost:4040")||"http://localhost:4040";r.Z.defaults.baseURL=d;var o=r.Z,i=s(5956);let c=(0,l.hg)("app/signup",async e=>{try{return(await o.post("/api/signup",e)).data}catch(e){var a;throw null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data}}),u=(0,l.hg)("app/login",async e=>{try{return(await o.post("/api/login",e)).data}catch(e){var a;throw null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data}}),f=(e=>{{let a=window.localStorage.getItem(e);return a?JSON.parse(a):null}})("userDetails");console.log("user details ==============>",f);let m={signupState:{loading:!1,errorMessage:"",sucess:!1},loginState:{loading:!1,errorMessage:"",sucess:!1},isAuthonicate:!!f&&null!=f&&!!f.authToken,token:(null==f?void 0:f.authToken)?null==f?void 0:f.authToken:null,loginUserDetails:f||{},selectedRecever:{},chatList:[],messageList:[]},p=(0,l.oM)({name:"app",initialState:m,reducers:{updateChatList:(e,a)=>(e.chatList=(null==a?void 0:a.payload)?null==a?void 0:a.payload:[],e),setSelectedUser:(e,a)=>(e.selectedRecever=(null==a?void 0:a.payload)?null==a?void 0:a.payload:{},e),updateMessageList:(e,a)=>(e.messageList=(null==a?void 0:a.payload)?null==a?void 0:a.payload:[],e)},extraReducers:e=>{e.addCase(c.pending,(e,a)=>(e.signupState.loading=!0,e)),e.addCase(c.rejected,(e,a)=>{var s;return i.Am.error((null==a?void 0:a.error)?null==a?void 0:null===(s=a.error)||void 0===s?void 0:s.message:"Please enter valied etails"),e.signupState.loading=!1,e.signupState.errorMessage="Error",e}),e.addCase(c.fulfilled,(e,a)=>(i.Am.success("Signup succesfully"),e.signupState.errorMessage="",e.signupState.sucess=!0,e)),e.addCase(u.pending,(e,a)=>(e.loginState.loading=!0,e)),e.addCase(u.rejected,(e,a)=>{var s;return i.Am.error((null==a?void 0:a.error)?null==a?void 0:null===(s=a.error)||void 0===s?void 0:s.message:"Please enter valied etails"),e.loginState.loading=!1,e.loginState.errorMessage="Error",e}),e.addCase(u.fulfilled,(e,a)=>{var s,t,l,r;return i.Am.success("Login succesfully"),e.loginState.errorMessage="",e.loginState.sucess=!0,e.isAuthonicate=!0,e.token=null==a?void 0:null===(t=a.payload)||void 0===t?void 0:null===(s=t.body)||void 0===s?void 0:s.authToken,e.loginUserDetails=null==a?void 0:null===(l=a.payload)||void 0===l?void 0:l.body,localStorage.setItem("userDetails",JSON.stringify(null==a?void 0:null===(r=a.payload)||void 0===r?void 0:r.body)),e})}}),{updateChatList:x,setSelectedUser:h,updateMessageList:v}=p.actions;var g=p.reducer},7700:function(e,a,s){s.d(a,{cn:function(){return r}});var t=s(4839),l=s(6164);function r(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,l.m6)((0,t.W)(a))}}}]);